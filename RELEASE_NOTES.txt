# Release Notes - Dial-A-Charmer

## v2.0.0 (2026-01-16) - "The Conversationalist"
- **Audio Intelligence**:
    - **Half-Duplex AEC**: Implemented automatic microphone muting during audio playback to prevent echo and self-triggering when using Gemini AI.
    - **Interruption Logic**: Users can now stop playback/TTS instantly by pressing the Extra Button or placing the receiver on the hook.
- **Microphone Control**:
    - Added driver support for ES8311 ADC Volume/Mute control.
    - Automatic mute/unmute management in main loop.

## v1.9.0 (2026-01-16)
- **Core System Architecture**:
    - **Hardware Conflict Resolution**: Migrated to `Adafruit_NeoPixel` to resolve FastLED/I2S timing conflicts. 
    - **Partitioning**: Upgraded to `huge_app.csv` to support larger OTA binaries.
    - **Pin Mapping**: Optimized pinout for Lolin D32 Pro (I2S DOUT moved to GPIO 27, Dial Mode Pin added on GPIO 36).
    - **Project Renaming**: Officially renamed to "Dial-A-Charmer".

- **Audio & Content**:
    - **Persona Playlists**: Implemented "Style" dialing (1=Trump, 2=Badran, 3=Yoda, 4=Neutral).
    - **Smart Shuffle**: Non-repeating playback logic for categories.
    - **Local Priority**: System prefers offline MP3s over TTS to ensure responsiveness.
    - **Tools**: Added `split_audio.py` for automated content preparation.

- **User Interaction**:
    - **Multi-Language**: Full DE/EN switching for prompts and TTS.
    - **Alarm Clock**: Hold-Button + 4-digit input (0730) to set daily alarms.
    - **Volume Control**: Independent sliders for Handset (Voice) and Ringer (Alarm) in WebUI.
    - **Night Mode**: Schedule-based LED dimming.

- **Web & Deployment**:
    - **Web Installer**: Browser-based flashing (ESP Web Tools).
    - **OTA**: Fully automated GitHub Actions workflow for builds.

## v1.8.0 (Initial Release)
- **Core Functionality**:
  - Atomic Clock synchronization via GNSS (M10 module).
  - Rotary Dial input processing (Pulse counting with debounce).
  - Hook Switch and Extra Action Button support.
  - Audio playback via I2S (MAX98357A/PCM5102) from SD Card.
- **Features**:
  - **Timer/Alarm**: Set countdowns using the rotary dial when the receiver is on the hook.
  - **Compliment Dispenser**: Dial numbers (1-9) when the receiver is off the hook to hear compliments.
  - **Time Announcement**: Dial 0 when receiver is off the hook to hear the current time.
  - **Web Interface**: Captive Portal (Access Point "DialACharmer") for configuring Wi-Fi credentials and Timezone offset.
  - **Status LED**: WS2812 indication for boot, Wi-Fi status, and GNSS lock.
- **Configuration**:
  - Centralized `include/config.h` for all hardware pins and system constants.
  - Persistent settings (Wi-Fi, Timezone) saved to Flash memory.
  - Standalone operation (No external servers/Home Assistant required).
